/*! bespoke-multimedia v1.0.4-dev Â© 2016 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.bespoke||(t.bespoke={}),t=t.plugins||(t.plugins={}),t.multimedia=e()}}(function(){return function e(t,n,o){function i(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(r)return r(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return i(n?n:e)},f,f.exports,e,t,n,o)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,t,n){t.exports=function(){return function(e){var t="active",n="command",o=/\/\/player\.vimeo\.com\//,i=/\/\/www\.youtube\.com\/embed\//,r="file:"===window.location.protocol,u=function(e,t){e.contentWindow.postMessage(JSON.stringify(t),"*")},a=function(e,t,n){return Array.prototype.slice.call(t.querySelectorAll(e+(n||"")))},s=a.bind(null,'img[src*=".gif"][data-restart=true]'),c=a.bind(null,'audio,video,iframe[src*="//www.youtube.com/embed/"],iframe[src*="//player.vimeo.com/"]'),f=a.bind(null,'object[type="image/svg+xml"]'),d=function(e){e.src=e.getAttribute("src")},l=function(e){var t=Math.max(Math.min(parseFloat(e.getAttribute("data-volume")),10),0),a="true"===e.getAttribute("data-restart");if(e.play)a&&(e.currentTime=0),isNaN(t)||(e.volume=t/10),e.paused&&e.play();else if(i.test(e.src))a&&u(e,{event:n,func:"seekTo",args:[0]}),isNaN(t)||u(e,{event:n,func:"setVolume",args:[10*t]}),u(e,{event:n,func:"playVideo"});else if(o.test(e.src)){if(r)return console.warn("WARNING: Cannot control Vimeo video since deck is loaded from a file:// URI.");a&&u(e,{method:"seekTo",value:0}),isNaN(t)||u(e,{method:"setVolume",value:t/10}),u(e,{method:"play"})}},m=function(e){e.pause?e.pause():i.test(e.src)?u(e,{event:n,func:"pauseVideo"}):!r&&o.test(e.src)&&u(e,{method:"pause"})},p=function(e){e.data=e.getAttribute("data")},v=function(n){if("true"===n.getAttribute("data-reload"))p(n);else{var o=n.contentDocument.documentElement;"svg"===o.tagName?o.classList.add(t):n.addEventListener("load",function i(){this.removeEventListener(i,!1),e.slides[e.slide()].contains(this)&&this.contentDocument.documentElement.classList.add(t)},!1)}},y=function(e){e.contentDocument.documentElement.classList.remove(t)},g=function(e){s(e).forEach(d)},b=function(e){c(e).forEach(l)},h=function(e){c(e).forEach(m)},w=function(e){f(e).forEach(v)},E=function(e){f(e,":not([data-reload=true])").forEach(y)},N=function(e){return e.preview?h(e.slide):(b(e.slide),w(e.slide),void g(e.slide))},x=function(e){h(e.slide),E(e.slide)};e.on("activate",N),e.on("deactivate",x)}}},{}]},{},[1])(1)});