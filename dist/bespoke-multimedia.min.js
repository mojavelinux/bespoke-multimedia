/*! bespoke-multimedia v1.0.4-dev Â© 2016 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.bespoke||(t.bespoke={}),t=t.plugins||(t.plugins={}),t.multimedia=e()}}(function(){return function e(t,n,o){function i(r,a){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(u)return u(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[r]={exports:{}};t[r][0].call(s.exports,function(e){var n=t[r][1][e];return i(n?n:e)},s,s.exports,e,t,n,o)}return n[r].exports}for(var u="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t,n){t.exports=function(){return function(e){var t=/\/\/player\.vimeo\.com\//,n=/\/\/www\.youtube\.com\/embed\//,o="Access denied: Cannot automatically play %s video since deck is loaded from a file:// URI.",i="file:"===window.location.protocol,u=function(e,t){Array.prototype.forEach.call(e,t)},r=function(e,t){e.contentWindow.postMessage(JSON.stringify(t),"*")},a=function(e){return e.querySelectorAll('img[src*=".gif"]')},c=function(e){return e.querySelectorAll('audio,video,iframe[src*="//www.youtube.com/embed/"],iframe[src*="//player.vimeo.com/"]')},l=function(e,t){return e.querySelectorAll('object[type="image/svg+xml"]'+(t||""))},s=function(e){var u=e.hasAttribute("data-volume")?Math.max(Math.min(parseFloat(e.getAttribute("data-volume")),10),0):null;if("function"==typeof e.play)e.paused===!0&&(null!==u&&(e.volume=u/10),e.play());else if(e.hasAttribute("src"))if(t.test(e.src)){if(i)return console.warn(o.replace(/%s/,"Vimeo"));null!==u&&r(e,{method:"setVolume",value:u/10}),r(e,{method:"play"})}else if(n.test(e.src)){if(i)return console.warn(o.replace(/%s/,"YouTube"));null!==u&&r(e,{event:"command",func:"setVolume",args:[10*u]}),r(e,{event:"command",func:"playVideo"})}},f=function(e){"function"==typeof e.pause?e.paused===!1&&e.pause():e.hasAttribute("src")&&!i&&(t.test(e.src)?r(e,{method:"pause"}):n.test(e.src)&&r(e,{event:"command",func:"pauseVideo"}))},d=function(e){u(c(e),s)},m=function(e){u(c(e),f)},p=function(e){e.data=e.getAttribute("data")},v=function(t){if("true"===t.getAttribute("data-reload"))p(t);else{var n=t.contentDocument.documentElement;"svg"===n.tagName?n.classList.add("active"):t.onload=function(){this.onload=null,e.slides[e.slide()].contains(this)&&this.contentDocument.documentElement.classList.add("active")}}},y=function(e){u(l(e),v)},g=function(e){e.src=e.getAttribute("src")},b=function(e){u(a(e),g)},w=function(e){y(e),b(e)},h=function(e){e.onload=null;var t=e.contentDocument.documentElement;"svg"===t.tagName&&t.classList.remove("active")},A=function(e){u(l(e,':not([data-reload="true"])'),h)},x=function(e){e.preview?m(e.slide):(d(e.slide),w(e.slide))},q=function(e){m(e.slide),A(e.slide)};e.on("activate",x),e.on("deactivate",q)}}},{}]},{},[1])(1)});